# OnAIR

OnAir is a free and open source framework developed by Dr. James Marshall at the Goddard Space Flight Center (GSFC) that allows the running of an AI model utilizing flight data. This can be done offline with CSV and other formats, but it's ability to use the Software Bus Network (SBN) cFS app, and its C/Python bridge client (SBN_Client) are utilized to integrate it into NOS3, so a user can configure packets to feed from the cFS Software Bus into OnAIR running a Python-based AI model in real time. Currently, the system is configured to only read a basic Sample App packet as a proof of concept; however, with some reconfiguration, a user may feed any packets into a custom model with the system

## Configuring OnAIR

In order to configure OnAIR to utilize a specific packet or parameter, it must be defined within OnAIR, and then subscribed to with SBN. To define a packet in SBN, go to  `nos3\components\onair\message_headers.py` and replicate the structs for your desired packets in a method similar to that displayed. Then, go to `nos3\components\onair\cfs_sample_tlm.json` and enter the headers there, along with the proper Message ID and packet info at the bottom. The information you need for this should be found in each particular app or component's msgids.h, msg.h, app.h and/or device.h. This should be all the configuration necessary, as the Message ID provided in the cfs_sample_tlm.json (or equivalent) file should be passed to SBN and SBN_Client, which should both auto-subscribe to the packet internally. This can be verified by checking for a matching data stream in your OnAIR window.

In order to utilize these packets properly, you'd need to build a plugin in OnAIR, which would utilize the structs you created to pass on the telemetry values you are collecting for you to use. You'd then set up your AI model, choose what telemetry you wish to be parameters, set it up, and run it. However, the details are beyond the scope of this guide, and could likely be found either in OnAIR's documentation, or that for whatever AI Library you choose to use (TensorFlow, Keras, Scikit, PyTorch, etc). 